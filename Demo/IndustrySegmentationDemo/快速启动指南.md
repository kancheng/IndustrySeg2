# IndustrySegmentationDemo 快速启动指南

## ✅ 已完成的配置

1. **启动项目配置**：已设置 `YoloDotNet.slnLaunch.user`，IndustrySegmentationDemo 为默认启动项目
2. **UI 界面**：完整的 WPF 图形界面已创建
3. **项目构建**：项目已成功构建，无错误

## 🚀 如何启动

### 方法 1：Visual Studio 中启动（推荐）

1. 打开 `YoloDotNet.sln` 解决方案
2. 确认 `IndustrySegmentationDemo` 项目被标记为启动项目（项目名称会加粗显示）
3. 按 `F5` 或点击"启动"按钮
4. UI 界面会自动显示

### 方法 2：命令行启动

```powershell
cd Demo\IndustrySegmentationDemo
dotnet run
```

### 方法 3：直接运行可执行文件

```powershell
cd Demo\IndustrySegmentationDemo\bin\Debug\net8.0-windows
.\IndustrySegmentationDemo.exe
```

## 🖥️ UI 界面说明

启动后会显示一个完整的图形界面，包含：

### 顶部配置区
- 模型文件选择
- 图片路径选择（单文件/批量）
- 输出目录选择
- 参数调整滑块（Confidence、Pixel Confidence、IoU）

### 中间控制区
- 开始检测按钮
- 停止检测按钮
- 打开输出文件夹按钮

### 主显示区
- **左侧**：检测结果预览（使用 SkiaSharp 显示处理后的图片）
- **右侧**：
  - 统计信息面板（总处理数、NG/OK 数量）
  - 进度条
  - 日志输出窗口

### 底部状态栏
- 当前状态显示

## 📋 使用步骤

1. **选择模型**：点击"浏览..."选择 ONNX 模型文件（默认会自动查找 `test/assets/Models/sd900.onnx`）
2. **选择图片**：
   - 单文件模式：选择单张图片
   - 批量处理模式：选择包含图片的目录
3. **选择输出目录**：默认保存到桌面的 `Industry_Results` 文件夹
4. **调整参数**（可选）：使用滑块调整检测参数
5. **开始检测**：点击"开始检测"按钮
6. **查看结果**：处理结果会实时显示在左侧预览区，统计信息更新在右侧

## ⚠️ 如果 UI 没有显示

1. **检查启动项目**：
   - 在解决方案资源管理器中，右键点击 `IndustrySegmentationDemo`
   - 选择"设为启动项目"

2. **检查构建**：
   ```powershell
   cd Demo\IndustrySegmentationDemo
   dotnet build
   ```

3. **检查输出窗口**：
   - 查看 Visual Studio 的输出窗口是否有错误信息
   - 查看调试输出

4. **检查依赖项**：
   - 确保所有 NuGet 包已还原
   - 运行 `dotnet restore`

## 🎯 功能特点

- ✅ 完整的图形界面操作
- ✅ 实时结果预览
- ✅ 批量处理支持
- ✅ 参数实时调整
- ✅ 进度显示
- ✅ 详细日志输出
- ✅ 统计信息显示

## 📝 注意事项

- 首次运行时会自动查找项目根目录下的默认模型
- 处理结果会自动保存，文件名格式：`原文件名_NG.png` 或 `原文件名_OK.png`
- NG = 检测到目标（异常）
- OK = 未检测到目标（正常）

